set $mod Mod4
## Appearance
exec_always --no-startup-id xrdb -merge ~/.Xresources
exec_always --no-startup-id gsettings set org.gnome.desktop.interface text-scaling-factor 1.0

font pango:MesloLGS NF 14
# No titlebars; use pixel borders
default_border pixel 3
new_window pixel 3
default_floating_border normal 2
new_float normal 2
hide_edge_borders none

for_window [class="Alacritty"] border pixel 3

# Gruvbox dark palette
set $bg      #282828
set $bg2     #3c3836
set $fg      #ebdbb2
set $muted   #a89984
set $accent  #d79921
set $red     #fb4934

#                 border   bg      text     indicator child_border
client.focused          $accent  $bg2    $fg      $accent   $accent
client.unfocused        $bg      $bg     $muted   $bg       $bg
client.focused_inactive $bg2     $bg     $muted   $bg2      $bg2
client.urgent           $red     $red    $bg      $red      $red

# Caps -> Esc
exec_always --no-startup-id setxkbmap -option caps:escape

## Input / misc
floating_modifier $mod

bindsym $mod+space exec --no-startup-id rofi -show drun

bindsym $mod+Return exec alacritty

## Tmux-style splits & kill
bindsym $mod+Shift+apostrophe split v
bindsym $mod+Shift+5 split h
bindsym $mod+q kill

bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right

bindsym $mod+Ctrl+Left  resize shrink width  5 px or 5 ppt
bindsym $mod+Ctrl+Right resize grow   width  5 px or 5 ppt
bindsym $mod+Ctrl+Down  resize grow  height  5 px or 5 ppt
bindsym $mod+Ctrl+Up    resize shrink height 5 px or 5 ppt

bindsym $mod+e layout toggle split
bindsym $mod+z fullscreen toggle
bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed

set $ws1 "1"
set $ws2 "2"
set $ws3 "3"
set $ws4 "4"
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"

bindsym $mod+1 workspace number $ws1
bindsym $mod+2 workspace number $ws2
bindsym $mod+3 workspace number $ws3
bindsym $mod+4 workspace number $ws4
bindsym $mod+5 workspace number $ws5
bindsym $mod+6 workspace number $ws6
bindsym $mod+7 workspace number $ws7
bindsym $mod+8 workspace number $ws8
bindsym $mod+9 workspace number $ws9

bindsym $mod+Ctrl+1 move container to workspace number $ws1
bindsym $mod+Ctrl+2 move container to workspace number $ws2
bindsym $mod+Ctrl+3 move container to workspace number $ws3
bindsym $mod+Ctrl+4 move container to workspace number $ws4
bindsym $mod+Ctrl+5 move container to workspace number $ws5
bindsym $mod+Ctrl+6 move container to workspace number $ws6
bindsym $mod+Ctrl+7 move container to workspace number $ws7
bindsym $mod+Ctrl+8 move container to workspace number $ws8
bindsym $mod+Ctrl+9 move container to workspace number $ws9

bindsym XF86AudioRaiseVolume exec --no-startup-id wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%+ --limit 1.0
bindsym XF86AudioLowerVolume exec --no-startup-id wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bindsym XF86AudioMute        exec --no-startup-id wpctl set-mute   @DEFAULT_AUDIO_SINK@ toggle
bindsym XF86AudioMicMute     exec --no-startup-id wpctl set-mute   @DEFAULT_AUDIO_SOURCE@ toggle

# bindsym XF86MonBrightnessUp   exec --no-startup-id brightnessctl set +5%
# bindsym XF86MonBrightnessDown exec --no-startup-id brightnessctl set 5%-

## Restart / exit i3
bindsym $mod+Shift+r reload
bindsym $mod+Shift+c restart
bindsym $mod+Shift+e exec --no-startup-id ~/.local/bin/powermenu

# Start monitors -> wallpaper -> polybar in order
exec_always --no-startup-id ~/.config/i3/start-session.sh

# Compositor
exec_always --no-startup-id picom --config ~/.config/picom/picom.conf
